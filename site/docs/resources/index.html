<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title>Resources - Guild AI</title>
    <link href="../../assets/css/vendor.min.css" rel="stylesheet">
    <link href="../../assets/css/theDocs.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab|Roboto|Roboto+Mono" rel="stylesheet">
    <link rel="icon" href="../../assets/img/favicon.png">
  </head>
  <body>
    
    



<div class="search-modal modal fade" id="search-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title" id="exampleModalLabel">Search</h6>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="input-group">
          <div class="input-wrapper">
            <span class="fa fa-search fa-lg" aria-hidden="true"></span>
            <input
              type="text"
              id="search-input"
              class="form-control initial-focus"
              placeholder="Find something">
          </div>
        </div>
        <ul id="search-results"></ul>
      </div>
      <div class="modal-footer">
        <ul class="pagination" id="search-pages"></ul>
        <div class="algolia-link">
          <a href="https://www.algolia.com/" target="_blank">
            <img src="../../assets/img/search-by-algolia.svg">
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


<header class="site-header sticky">
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle for-sidebar" data-toggle="offcanvas">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../">
          <img src="../../assets/img/logo_nav.svg" alt="logo">
        </a>
      </div>
      <div class="spacer"></div>
      <div id="navbar" class="navbar-collapse collapse" aria-expanded="true" role="banner">
        
        <ul class="nav navbar-nav navbar-right">
  
  
  
  
  
  
  <li class="">
    <a href="/install/">Install</a>
  </li>
  
  
  
  
  <li class="active">
    <a href="/docs/">Documentation</a>
  </li>
  
  
  
  
  <li class="">
    <a href="/models/">Models</a>
  </li>
  
  
  
  
  <li class="">
    <a href="/support/">Support</a>
  </li>
  
  
  
  
  
  
  
  <li class="">
    <a href="/about/">About</a>
  </li>
  
  
</ul>
      </div>
      <div class="search-header">
  <button type="button" class="btn btn-search" data-toggle="modal" data-target="#search-modal">
    <span class="fa fa-search fa-lg" aria-hidden="true"></span>
  </button>
</div>
    </div>
  </nav>
  
</header>

    
<main class="container">
  <div class="row">
    <aside class="col-sm-3 sidebar">

  <div class="sidebar-nav">
    <div>
      <button type="button" class="sidebar-close" data-toggle="offcanvas">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
      </button>
      <a class="sidebar-nav-brand" href="None">
        <img src="../../assets/img/logo_nav.svg" alt="logo">
      </a>
    </div>
    <ul class="nav ">
  
  
  
  
  
  
  <li class="">
    <a href="/install/">Install</a>
  </li>
  
  
  
  
  <li class="active">
    <a href="/docs/">Documentation</a>
  </li>
  
  
  
  
  <li class="">
    <a href="/models/">Models</a>
  </li>
  
  
  
  
  <li class="">
    <a href="/support/">Support</a>
  </li>
  
  
  
  
  
  
  
  <li class="">
    <a href="/about/">About</a>
  </li>
  
  
</ul>
    <ul class="social-icons">
  
  <li><a href="https://github.com/guildai" target="_blank"><i class="fa fa-github"></i></a></li>
  
  <li><a href="https://twitter.com/guild_ai" target="_blank"><i class="fa fa-twitter"></i></a></li>
  
</ul>
  </div>

  
  
  
  
  
  
  
  <ul class="sidenav dropable sticky_disabled">
    
    
    
    
    <li>
      <a
        class=""
        href="/docs/overview/">Overview</a>
    </li>
    
    
    
    <li>
      <a
        class=""
        href="/docs/models/">Models</a>
    </li>
    
    
    
    <li>
      <a
        class=""
        href="/docs/operations/">Operations</a>
    </li>
    
    
    
    <li>
      <a
        class=""
        href="/docs/runs/">Runs</a>
    </li>
    
    
    
    <li>
      <a
        class="active"
        href="/docs/resources/">Resources</a>
    </li>
    
    
    
    <li>
      <a
        class=""
        href="/docs/packages/">Packages</a>
    </li>
    
    
    
    <li>
      <a class="" href="#">Visualization</a>
      <ul>
        
        
        <li>
          <a
            class=""
            href="/docs/visual/guild-view/">Guild View</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/visual/tensorboard/">TensorBoard</a>
        </li>
        
        
      </ul>
    </li>
    
    
    
    <li>
      <a class="" href="#">Commands</a>
      <ul>
        
        
        <li>
          <a
            class=""
            href="/docs/commands/">Overview</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/check-cmd/">check</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/compare-cmd/">compare</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/help-cmd/">help</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/index-cmd/">index</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/init-cmd/">init</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/install-cmd/">install</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/label-cmd/">label</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/models-cmd/">models</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/operations-cmd/">operations</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/package-cmd/">package</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/packages-cmd/">packages</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/packages-delete-cmd/">packages delete</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/packages-info-cmd/">packages info</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/packages-list-cmd/">packages list</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/resources-cmd/">resources</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/run-cmd/">run</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-cmd/">runs</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-delete-cmd/">runs delete</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-info-cmd/">runs info</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-label-cmd/">runs label</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-list-cmd/">runs list</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-purge-cmd/">runs purge</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-restore-cmd/">runs restore</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/runs-stop-cmd/">stop</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/search-cmd/">search</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/shell-cmd/">shell</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/stop-cmd/">stop</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/sync-cmd/">sync</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/tensorboard-cmd/">tensorboard</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/tensorflow-cmd/">tensorflow</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/tensorflow-inspect-cmd/">tensorflow inspect</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/train-cmd/">train</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/uninstall-cmd/">uninstall</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/commands/view-cmd/">view</a>
        </li>
        
        
      </ul>
    </li>
    
    
    
    <li>
      <a class="" href="#">Reference</a>
      <ul>
        
        
        <li>
          <a
            class=""
            href="/docs/reference/guild-file/">Guild file</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/reference/guild-home/">Guild home</a>
        </li>
        
        
      </ul>
    </li>
    
    
    
    <li>
      <a class="" href="#">Tutorials</a>
      <ul>
        
        
        <li>
          <a
            class=""
            href="/docs/tutorials/">Overview</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/tutorials/train-mnist/">Go deeper with Guild AI</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/tutorials/train-and-predict-with-cloudml/">Train and predict with Cloud ML</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/tutorials/develop-a-model-from-scratch/">Develop a model from scratch</a>
        </li>
        
        
        
        <li>
          <a
            class=""
            href="/docs/tutorials/workflow-with-virtualenv/">Workflow with Virtualenv</a>
        </li>
        
        
      </ul>
    </li>
    
    
    
    <li>
      <a
        class=""
        href="/troubleshooting/">Troubleshooting</a>
    </li>
    
    
  </ul>
  
  
  
  
  
  
  
  
  
  
  
</aside>
    <article
      class="col-sm-9 main-content"
      role="main">
      <h1 id="resources">Resources</h1>
<ol class="toc">
<li><a href="#resource-sources">Resource sources</a></li>
<li><a href="#resolving-resources">Resolving resources</a></li>
<li><a href="#unpacking-sources">Unpacking sources</a></li>
<li><a href="#selecting-source-files">Selecting source files</a></li>
<li><a href="#operation-output">Operation output</a></li>
</ol>
<p>A resource is named set of files that are used by model
<a href="../../docs/operations/">operations</a>.</p>
<p>Resources may be defined at two levels:</p>
<ul class="md">
<li>Model resource</li>
<li>Package resource</li>
</ul>
<p>Model resources are defined by a model. Here&rsquo;s an example:</p>
<pre><code class="language-yaml"># MODEL
name: simple-model
operations:
  train: train
  requires: data
resources:
  data: data.csv
</code></pre>

<h2 id="resource-sources">Resource sources</h2>
<p>Resources are comprised of one or more <em>sources</em>. A source may be a
string or an object.</p>
<p>A source string is equivalent to a source object with the value used
for the <code>file</code> attribute (see below).</p>
<p>A source object may define these attributes:</p>
<table class="table dl">
<tr><td class="dt"><code>url</code></td>
<td class="dd">Source is located on a remote server and is accessible via a
  URL. The protocols <code>http</code> and <code>https</code> are supported. <code>url</code> cannot be
  used with either <code>file</code> or <code>operation</code> &mdash; they are mutually
  exclusive.</td>
</tr><tr><td class="dt"><code>file</code></td>
<td class="dd">Source is a file or directory located relative to the model or
  package file. <code>file</code> cannot be used with <code>url</code> or <code>operation</code> &mdash;
  they are mutually exclusive.</td>
</tr><tr><td class="dt"><code>operation</code></td>
<td class="dd">Source is a file generated by a model operation. Operations must be
  specified as <code>[[PACKAGE/]MODEL:]OPERATION</code>. Multiple operations may
  be specified by separating them with a comma. For more information
  see <a href="#operation-output">Operation output</a> below. <code>operation</code> cannot
  be used with <code>url</code> or <code>file</code> &mdash; they are mutually exclusive.</td>
</tr><tr><td class="dt"><code>select</code></td>
<td class="dd">A regular expression used to select files from a local directory,
  archive, or a run directory if the source is an operation. For more
  information see <a href="#selecting-source-files">Selecting source files</a>
  below. <code>select</code> is required if <code>operation</code> is used.</td>
</tr><tr><td class="dt"><code>sha256</code></td>
<td class="dd">A <a class="ext" href="https://en.wikipedia.org/wiki/SHA-2" target="_blank">SHA-256</a> hash of the
  resource source. If specified, the source SHA-256 hash must match
  this value for the resource to resolve.</td>
</tr><tr><td class="dt"><code>unpack</code></td>
<td class="dd">A boolean flag (<code>true</code> or <code>false</code>) indicating whether or not to
  unpack the source. If unspecified, sources are unpacked if they are
  archives. For more information see <a href="#unpacking-sources">Unpacking
  sources</a> below.</td>
</tr></table>
<p>The attributes <code>url</code>, <code>file</code>, and <code>operation</code> collectively represent
the source <em>type</em>. One and only one of these attributes must be
specified for each source object.</p>
<h2 id="resolving-resources">Resolving resources</h2>
<p>Before an operation is started, each required resource must be
<em>resolved</em>. Resource resolution consists of these steps for each
resource source:</p>
<ul class="md">
<li>Acquire the source</li>
<li>If a SHA-256 hash is available, verify the source</li>
<li>If the source is an archive and <code>unpack</code> is not <code>no</code>, unpack the
  archive</li>
<li>Create link to the source within the operation run directory or, if
  <code>select</code> is specified, create a link for each matching path within
  the source</li>
</ul>
<p>When all required resources are resolved, Guild will start the
operation.</p>
<p>URL sources are stored in Guild&rsquo;s <a class="term" href="../../docs/reference/guild-home/#resource-cache">resource
cache</a>. If a source</p>
<h2 id="unpacking-sources">Unpacking sources</h2>
<p>Source archives may be unpacked to access their constituent files. A
file is considered an archive if it has one of the following
extensions: <code class="lit">.zip</code>, <code class="lit">.tar</code>, <code class="lit">.tgz</code>, <code class="lit">.tar.*</code>.</p>
<p>By default, archives are unpacked. You can explicitly disable
unpacking by setting the <code>unpack</code> source attribute to <code class="lit">no</code>.</p>
<h2 id="selecting-source-files">Selecting source files</h2>
<p>A source may indicate that files within a directory or archive should
be <em>selected</em> for use by specifying the source <code>select</code> attribute. The
value of <code>select</code> must be a value regular expression. When specified,
Guild will create links to each matching path within the source
directory or archive.</p>
<p>Archives must be unpacked to select source files.</p>
<p>Links use the basename of each matching file and do not contain parent
paths. To illustrate, consider this structure, which may apply to
either a file system directory or the contents of an archive:</p>
<div class="file-tree">
<ul>
<li class="is-folder open">models-master
 <ul>
 <li class="is-folder open">src
  <ul>
  <li class="is-folder">mnist
  </ul>
 </li>
 </ul>
</li>
</ul>
</div>

<p>To create a link to <code class="lit">mnist</code> in the operation run directory, use a
<code>select</code> value of <code class="lit">models-master/src/mnist</code>.</p>
<p>Here&rsquo;s a model definition that illustrates this scheme.</p>
<pre><code class="language-yaml">name: example
operations:
  train:
    cmd: train
    requires: mnist
resources:
  mnist:
    sources:
    - url: https://github.com/acme/models/archive/master.zip
      select: models-master/src/mnist
</code></pre>

<h2 id="operation-output">Operation output</h2>
<p>It&rsquo;s common for an operation to require the output of another
operation. Examples include:</p>
<ul class="md">
<li>Model training requires a prepared dataset</li>
<li>Model compression requires a trained model</li>
<li>Model deployment requires a compressed model</li>
</ul>
<p>By using required resources with <code>operation</code> sources, model developers
can effectively link operations together in a pipeline.</p>
<p>Guild resolves operations using these steps:</p>
<ul class="md">
<li>
<p>If the user specifies a run ID as an argument to the <a class="cmd" href="../../docs/commands/run-cmd">run</a>
  command in the form <code class="lit">RESOURCE_NAME=RUN_ID</code> Guild will resolve the
  operation source using the target run directory.</p>
</li>
<li>
<p>If the user does not specify a run ID, Guild uses the latest
  non-error run for any of the specified operations. Multiple
  operations may be specified by separating the operation specs with a
  comma.</p>
</li>
</ul>
<p>Consider the following model definition:</p>
<pre><code class="language-yaml">name: example
operations:
  prepare:
    cmd: prepare
  train:
    cmd: train
    requires: data
resources:
  data:
    sources:
    - operation: prepare
      select: data.csv
</code></pre>

<p>In this example, the <code>train</code> operation requires output from the
<code>prepare</code> operation. This requirement is expressed using the
<code>requires</code> operation attribute, which references the named resource
<code class="lit">data</code>. The <code>data</code> resource consists of a single source:
<code class="lit">data.csv</code>, which is generated by the <code>prepare</code> operation.</p>
      
<ul class="pager">
  
  <li class="previous">
    <a href="/docs/runs/">
      <span>Prev</span> <aside>Runs</aside>
    </a>
  </li>
  
  
  <li class="next">
    <a href="/docs/packages/">
      <span>Next</span> <aside>Packages</aside>
    </a>
  </li>
  
</ul>

    </article>
  </div>
</main>

    
<footer class="site-footer">
  <div class="container">
    <a id="scroll-up" href="#"><i class="fa fa-angle-up"></i></a>
    <div class="row">
      <div class="col-md-6 col-sm-6 footer-cell">
        <div class="copyright">Copyright &copy; 2017-2018 TensorHub, Inc.</div>
        
      </div>
      <div class="col-md-6 col-sm-6 footer-cell">
        <ul class="footer-menu">
          <li><a href="mailto:niceperson@guild.ai">Contact us</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>

  </body>
  <script src="../../assets/js/vendor.min.js" data-manual></script>
  <script src="../../assets/js/theDocs.min.js"></script>
</html>